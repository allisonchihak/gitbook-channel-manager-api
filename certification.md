# Certification

## Contents

* [Prerequisites](certification.md#prerequisites)
* [Testing scenario](certification.md#testing-scenario)
* [Evaluation](certification.md#evaluation)

## Prerequisites

* Client token setup on Mews [Test Environment](mews-api.md#test-environment).
* Endpoint Urls for [Channel Manager API](certification.md#channel-manager-api) are set up in Mews [Test Environment](mews-api.md#test-environment) \(It is highly suggested to use different endpoints to the ones that will be used in production\)
  * UpdateAvailability
  * UpdatePrices
  * UpdateRestrictions
  * ConfirmReservations
  * ChangeNotification \(optional\)
* Communicate the maximum dates in the future that can be updated.

## Testing scenario

1. Mews sets up a new connection \(not enabling it yet\).
   * Aim of this test is to check how setting up a new connection is implemented
2. Channel manager connects the newly created connection
   * using [Get Properties](mews-api.md#get-properties) call
   * then/or using [Get Configuration](mews-api.md#get-configuration) call
   * then/or mapping of the space types and rates can be done by the following options.
     * In the UI of the channel manager backend using the data received in the GetConfiguration.
     * It can be done manually by the hotel/channel manager using the mapping codes generated by Mews.
     * If there are mapping codes already defined in channel manager, these can be copied and pasted to Mews instead of those generated automatically by Mews.
   * _Please indicate should you have different way of integration establishment of the integration -&gt; e.g. should the client token be provided to you by the hotel, etc._
3. Testing push of ARI updates for one \(or two\) week done by Mews and verification that prices, availability and restrictions match in PMS and in Channel manager extranet.
   * It is recommended that all the pricing and restrictions should be fully managed in the PMS. 
   * _Please advise should there be certain restrictions possible to set up on your side to prevent future errors \(e.g. automated seasonal rate closure, limitation on number of connected rates / space types, ...\)_
4. Test behavior of CHM on sending unknown room type code and rate code 
   * By changing codes temporarily in Mews, we will check how CHM handles unknown mapping codes.
   * The CHM should return an error that clearly specifies that the mapping code is unknown \(the error from channel manager should follow the [Error](general-remarks.md#error) specification for this particular situation.\)
5. Enabling the connection
   * Once ARI push is tested on a small interval, Mews will enable the connection. This will automatically trigger initial full push of the all connected data. 
   * Checking ARI data in several random dates within one year.
6. Test ARI delta updates
   * Mews will change prices and restrictions of connected rates and availability of connected space types and verify all changes are correctly updated in Channel manager.
7. Channel manager creates test reservation groups.
   * One single room reservation.
   * One multi room reservation group
     * To make sure that group bookings are handled correctly \(i.e. using one ChannelManagerId for the whole group\).
     * Ideally each reservation in the group should have as much different values as possible \(dates, room type, rate, ...\).
   * Accuracy of the data is checked.
8. Channel manager modifies the created test reservations group
   * Dates change, change of the name of the customer, adding a room into the originally individual reservation.
   * Changing dates/room type 
   * Cancelling one reservation \(ideally not the “last” one\) of the originally group booking. \(always by sending “current state” = without the cancelled reservation, do not send any “diff”\).
9. Channel manager cancels the created test reservations group

## Evaluation

* If there are some \(critical\) issues found during certification, Mews will not allow the Channel Manager to advance to production environment.
  * Once issues are resolved, certification will start over.
* If there are no critical issues discovered during certification, the Channel Manager will be advanced to the production environment
  * Mews will require to receive production endpoint URLs for [Channel Manager API](certification.md#channel-manager-api)
  * Mews will issue a live production token for the Channel manager

